import streamlit as st
import pandas as pd
import math

# ุฅุนุฏุงุฏุงุช ูุงุฌูุฉ ุงูููุจุงูู
st.set_page_config(page_title="ุงููุตูู ุงูุฅูุดุงุฆู (ููุจุงูู)", layout="centered")

st.title("๐ฑ ูููุฏุณ ุงููููุน - ุงูููุฏ ุงูุณูุฑู")

# ุงููุงุฆูุฉ ุงูููุณุฏูุฉ ูููุฏุฎูุงุช (ูุชูุงุณุจ ุดุงุดุฉ ุงูููุจุงูู)
with st.expander("๐๏ธ ุฅุนุฏุงุฏุงุช ุงูุนูุตุฑ ูุงูุชุฏููู", expanded=True):
    type_el = st.selectbox("ุงูุนูุตุฑ", ["ุนููุฏ", "ุฌุงุฆุฒ", "ููุฑุฏู"])
    b_cm = st.number_input("ุงูุนุฑุถ b (cm)", value=30)
    h_cm = st.number_input("ุงูุงุฑุชูุงุน h (cm)", value=60)
    
    # ุงูุชุญูู ุงูููุฑู (ุงูุฅูุฐุงุฑ)
    area = b_cm * h_cm
    if type_el == "ุนููุฏ" and area < 900:
        st.error(f"โ๏ธ ุฅูุฐุงุฑ: ุงูููุทุน ุฃุตุบุฑ ูู 900 ุณูยฒ ({area})")
    else:
        st.success("โ ุงูููุทุน ูุทุงุจู ููููุฏ ุงูุณูุฑู")

# ุญุณุงุจุงุช ุงูุฃุญูุงู ุงูุณุฑูุนุฉ
with st.expander("๐ข ุญุณุงุจุงุช ุงูุทูุงุจู ูุงูุชุญูู"):
    n_floors = st.number_input("ุนุฏุฏ ุงูุทูุงุจู", 1, 20, 3)
    # ุญุณุงุจ ุงููุฏุฑุฉ
    capacity = (0.35 * 250 * area + 0.67 * 4000 * (0.01 * area)) / 1000
    st.info(f"ุงููุฏุฑุฉ ุงูุชุตููููุฉ: {capacity:.1f} ุทู")
    st.write(f"ุงูุญูู ุงูุชูุฏูุฑู: {n_floors * 40} ุทู")

# ุชูุฑูุฏ ุงูุญุฏูุฏ (BBS) ููููุจุงูู
st.subheader("๐ ุฌุฏูู ุชูุฑูุฏ ุงูุญุฏูุฏ")
if st.button("ุชูููุฏ ุฌุฏูู ุงููููุงุช"):
    data = {
        "ุงูุนูุตุฑ": [type_el],
        "ุงูููุทุน": [f"{b_cm}x{h_cm}"],
        "ุงูุชุณููุญ": ["1% ูู ุงููุณุงุญุฉ"],
        "ุนุฏุฏ ุงูุจููู (ููููุฑุฏู)": [math.ceil(area/0.2)]
    }
    st.table(pd.DataFrame(data))

# ุชุฑููุณุฉ ุงููููุฏุณ
st.divider()
eng_name = st.text_input("ุงููููุฏุณ ุงููุตูู", "ุงุณูู ููุง")
if st.button("๐ฅ ุญูุธ ุงููุฐูุฑุฉ ุงูุญุณุงุจูุฉ ุนูู ุงูููุจุงูู"):
    st.balloons()
    st.success(f"ุชู ุชุฌููุฒ ุงููุฐูุฑุฉ ุจุงุณู ุงููููุฏุณ {eng_name}")
