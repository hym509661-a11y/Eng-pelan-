import streamlit as st
import math

# ุฅุนุฏุงุฏุงุช ุงูุตูุญุฉ
st.set_page_config(page_title="ููุชุจ ุงููููุฏุณ ุจููุงู ุนุจุฏุงููุฑูู", layout="centered")

# ุงูุฎุชู ุงูููุฏุณู ุงููุนุชูุฏ (ุชุตุญูุญ ุงูุฎุทุฃ ูู ุงูุชุณููุฉ ููุง)
st.markdown(f"""
<div style="direction: rtl; text-align: right; border: 2px solid #2c3e50; padding: 15px; border-radius: 10px; background-color: #f8f9fa;">
    <h2 style="color: #2c3e50; margin: 0;">ุงููููุฏุณ ุงููุฏูู: ุจููุงู ูุตุทูู ุนุจุฏุงููุฑูู</h2>
    <p style="margin: 5px 0;"><b>ุฏุฑุงุณุงุช - ุฅุดุฑุงู - ุชุนูุฏุงุช</b></p>
    <p style="color: #e74c3c; margin: 0;">ูุงุชู: 0998449697</p>
</div>
""", unsafe_allow_html=True)

st.title("๐๏ธ ูุธุงู ุงูุฏุฑุงุณุฉ ุงูุฅูุดุงุฆูุฉ ุงููุชูุงูู")
st.write("ููู ุงูููุฏ ุงูุนุฑุจู ุงูุณูุฑู ูุนุงู 2012")

# ุชุจููุจุงุช ุงูุนูุงุตุฑ ุงูุฅูุดุงุฆูุฉ
tab1, tab2, tab3 = st.tabs(["ุชุตููู ุงูุฌูุงุฆุฒ", "ุชุตููู ุงูุฃุนูุฏุฉ", "ุชูุฒูุน ุงูุญูููุงุช"])

with tab1:
    st.header("ุชุตููู ุงูููุงุทุน ุงูุจูุชูููุฉ")
    col1, col2 = st.columns(2)
    with col1:
        mu = st.number_input("ุงูุนุฒู ุงูุชุตูููู (Mu) ุทู.ูุชุฑ", value=10.0, step=0.1)
        b = st.number_input("ุนุฑุถ ุงูููุทุน (b) ุณู", value=20.0, step=1.0)
    with col2:
        d = st.number_input("ุงูุงุฑุชูุงุน ุงููุนุงู (d) ุณู", value=55.0, step=1.0)
        fpc = st.number_input("ุงูููุงููุฉ (f'c) ูุบ/ุณู2", value=200, step=10)

    if st.button("ุงุญุณุจ ุงูุชุณููุญ"):
        Mu_kgcm = mu * 10**5
        phi = 0.9
        fy = 3600
        # ูุนุงุฏูุฉ ุญุณุงุจ ูุณุจุฉ ุงูุชุณููุญ ุญุณุจ ุงูููุฏ ุงูุณูุฑู
        rn = Mu_kgcm / (phi * b * d**2)
        
        try:
            rho = (0.85 * fpc / fy) * (1 - math.sqrt(1 - (2.353 * rn / fpc)))
            rho_min = max(14/fy, (0.25 * math.sqrt(fpc))/fy)
            rho = max(rho, rho_min)
            as_req = rho * b * d
            
            st.success(f"ูุณุงุญุฉ ุงูุญุฏูุฏ ุงููุทููุจุฉ: {as_req:.2f} ุณู2")
            st.info(f"ุงูุชุณููุญ ุงูููุชุฑุญ: {math.ceil(as_req/2.01)} ูุถุจุงู ูุทุฑ 16 ููู")
        except:
            st.error("ุงูููุทุน ุตุบูุฑ ุฌุฏุงู! ูุฑุฌู ุฒูุงุฏุฉ ุฃุจุนุงุฏ ุงูุจูุชูู.")

with tab2:
    st.header("ุชุตููู ุงูุฃุนูุฏุฉ")
    pu = st.number_input("ุงูุญูููุฉ ุงูุชุตููููุฉ (Pu) ุทู", value=100.0, step=1.0)
    # ุญุณุงุจ ุณุฑูุน ููุนููุฏ
    ag = (col_b := 30) * (col_h := 40)
    st.write(f"ุจูุฑุถ ุนููุฏ {col_b}x{col_h} ุณู")
    
    if st.button("ุงุญุณุจ ุชุณููุญ ุงูุนููุฏ"):
        ast = ( (pu*1000) / (0.8 * 0.65) - 0.85 * fpc * ag ) / (3600 - 0.85 * fpc)
        ast = max(ast, 0.01 * ag)
        st.success(f"ูุณุงุญุฉ ุงูุญุฏูุฏ ุงููุทููุจุฉ: {ast:.2f} ุณู2")

with tab3:
    st.write("ูุณู ุญุณุงุจ ุงูุฃุญูุงู ูู ุงูุจูุงุทุงุช ููุฏ ุงูุชุทููุฑ...")

st.markdown("---")
st.caption("ุชู ุงูุชุทููุฑ ูุตุงูุญ ู. ุจููุงู ูุตุทูู ุนุจุฏุงููุฑูู - 2026")
